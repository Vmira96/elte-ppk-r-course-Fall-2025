---
title: "TidyTuesday 2025-03-11 - Pixar films"
author: "Vikár Míra"
output: html_document
knit: rmarkdown::render
---

In this project, I examine data from Pixar films.  
My goal is to explore data patterns (EDA) and then build, compare, and evaluate at least two models.  
The data analysis is fully reproducible, and all code is available in Rmd.

# Load packages

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
library(tidyverse)
library(readr)
```

```{r}
# Importing the Pixar dataset directly from GitHub

pixar_films <- readr::read_csv(
  "https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-03-11/pixar_films.csv"
)

public_response <- readr::read_csv(
  "https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-03-11/public_response.csv"
)
```

# Pixar dataset head and glimpse
```{r}
head(pixar_films)
head(public_response)
knitr::kable(head(pixar_films))
knitr::kable(head(public_response))
glimpse(pixar_films)
glimpse(public_response)
```

## 1. Data cleaning
#Examining variable types and missing data
```{r}
glimpse(pixar_films)
summary(pixar_films)

glimpse(public_response)
summary(public_response)
```

# Exemination of missing values
```{r}
public_response %>%
  filter(is.na(critics_choice) | is.na(rotten_tomatoes))
```

Data Overview and Initial Cleaning Steps
Before starting the analysis, I examined the dataset to understand its structure and identify potential data quality issues. The dataset contains 24 Pixar films and includes the following variables:

film (character) – The title of the movie.

rotten_tomatoes (numeric) – Percentage score from Rotten Tomatoes.

metacritic (numeric) – Metacritic critic score (0–100).

cinema_score (character) – Audience grade (A, A+, etc.).

critics_choice (numeric) – Critics’ Choice rating (0–100).

Summary of Key Findings
A first look using glimpse() and summary() revealed the following:

All variables were loaded correctly with the expected data types.

cinema_score is stored as a character variable, not numeric, because it contains letter-based grades (e.g., A, A+).

Some variables include missing values (NA):

critics_choice: 3 missing values

metacritic: 1 missing value

cinema_score: 1 missing value

I also inspected rows containing missing data. These came exclusively from the film “Luca” and two early films where Critics Choice ratings were not available.

Next Step: Data Cleaning Plan
Since the dataset is small and missing values are minimal, carefully handling NAs is important. 

# Handling Missing Data

Before proceeding with the exploratory data analysis (EDA), it is essential to
examine the dataset for missing values. Missing data can influence summary
statistics, distort visualisations, and potentially introduce bias during
model building. Therefore, identifying and addressing these values is a
necessary first step.

Treatment Strategy
Because the missingness is low in proportion and the affected variables serve
different analytical purposes, we apply the following approach:

cinema_score:
We convert this variable into an ordered factor with levels
A- < A < A+. The single missing value is left as NA, as imputing an
ordered rating would introduce artificial information.

# Convert cinema_score to an ordered factor
```{r}
public_response <- public_response %>%
  mutate(
    cinema_score = factor(
      cinema_score,
      levels = c("A-", "A", "A+"),   
      ordered = TRUE
    )
  )

```

critics_choice:
Since this is a numerical rating derived from awards evaluation, imputing
a synthetic score would not be justified. These values are therefore
retained as NA and will be handled appropriately during later modelling
(e.g., filtering out incomplete rows or using models that support missingness).

Verification
After these transformations, we confirm that the missing values remain only in
the intended variables:

#Checking the type of variable
```{r}
str(public_response$cinema_score)
```
#Checking values and sequences
```{r}
levels(public_response$cinema_score)
```

# Check missing values again
```{r}
public_response %>% summarise(across(everything(), ~ sum(is.na(.))))
```  
This ensures that the dataset is clean, consistent, and properly structured
for the next steps in the analysis.

## 2. Exploratory Data Analysis (EDA)
- legalább **két ember számára érthető, jól feliratozott plot**
- rövid értelmezés a grafikák alatt
- táblázatok és statisztikák

```{r}


```

## 3. Modellek építése
- legalább **két modell** ugyanarra az outcome változóra
  - pl. lineáris modell, logisztikus, random forest, stb.
- modell-összehasonlítás
  - AIC, RMSE, accuracy stb.
- rövid konklúzió: melyik jobb és miért?

```{r}


```

## 4. Modellek értékelése
- **assumption check + residual diagnostics**
  - pl. QQ plot, residuals vs fitted plot
- értelmezés: mi látszik, rendben vannak-e a feltételek?

```{r}


```

## 5. Következtetések / Report
- összefoglalás emberi nyelven
- mik a tanulságok?
- mit találtál érdekesnek?

```{r}


```

## 6. Kreatív rész (ha szeretnél)
- extra vizualizációk
- extra kérdések
- saját ötletek

```{r}


```
